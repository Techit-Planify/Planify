<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>

<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader" />
    <div class="col-md-12">
        <table class="table table-striped">
            <thead>
            <tr>
                <th style="white-space: nowrap; ">#</th>
                <th style="white-space: nowrap;">할 일</th>
                <th style="white-space: nowrap;">마감일</th>
                <th style="white-space: nowrap;">우선순위</th>
                <th style="white-space: nowrap;">진행여부</th>
                <th style="white-space: nowrap;">태그</th>
                <th style="white-space: nowrap;">생성일</th>
                <th style="white-space: nowrap;">수정일</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="todo : ${todos}">
                <td th:text="${todo.id}"></td>
                <td th:text="${todo.content}"></td>
                <td th:text="${todo.deadline}"></td>
                <td th:text="${todo.priority}"></td>
                <td th:text="${todo.status}"></td>
                <td>
                    <span th:each="hashtag : ${todo.hashtags}">
                        <span th:text="${hashtag.keyword.content}"></span>
                    </span>
                </td>
                <td th:text="${#temporals.format(todo.createdAt, 'yyyy-MM-dd HH:mm')}"></td>
                <td th:text="${#temporals.format(todo.updatedAt, 'yyyy-MM-dd HH:mm')}"></td>
                <td>
                    <a href="#" th:href="@{/todo/{id}/update (id=${todo.id})}" class="btn btn-primary" role="button" style="white-space: nowrap;">수정</a>
                </td>
                <td>
                    <a href="#" th:href="@{/todo/{id}/delete (id=${todo.id})}" class="btn btn-secondary" role="button" style="white-space: nowrap;">삭제</a>
                </td>
                <td>
                    <a href="#" th:href="@{/todo/{id}/complete (id=${todo.id})}" class="btn btn-success" role="button" style="white-space: nowrap;">완료</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>